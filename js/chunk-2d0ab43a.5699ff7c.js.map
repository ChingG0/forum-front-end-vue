{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/components/User/UserProfileCard.vue","webpack:///src/components/User/UserProfileCard.vue","webpack:///./src/components/User/UserProfileCard.vue?1428","webpack:///./src/components/User/UserProfileCard.vue?924c","webpack:///./src/components/User/UserFollowingsCard.vue","webpack:///src/components/User/UserFollowingsCard.vue","webpack:///./src/components/User/UserFollowingsCard.vue?ab47","webpack:///./src/components/User/UserFollowingsCard.vue?0225","webpack:///./src/components/User/UserFollowersCard.vue","webpack:///src/components/User/UserFollowersCard.vue","webpack:///./src/components/User/UserFollowersCard.vue?65d8","webpack:///./src/components/User/UserFollowersCard.vue?f953","webpack:///./src/components/User/UserCommentsCard.vue","webpack:///src/components/User/UserCommentsCard.vue","webpack:///./src/components/User/UserCommentsCard.vue?b546","webpack:///./src/components/User/UserCommentsCard.vue?8e75","webpack:///./src/components/User/UserFavoritedRestaurantsCard.vue","webpack:///src/components/User/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/User/UserFavoritedRestaurantsCard.vue?af5a","webpack:///./src/components/User/UserFavoritedRestaurantsCard.vue?7734","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue?1f52"],"names":["render","_vm","this","_c","_self","staticClass","attrs","currentUser","id","user","isFollowed","followings","followers","comments","favorites","staticRenderFns","_f","image","_v","_s","name","email","commentsLength","FavoritedRestaurantsLength","FollowingsLength","FollowersLength","isCurrentUser","params","on","$event","preventDefault","stopPropagation","deleteFollowing","addFollowing","props","type","required","initIsFollowed","mixins","data","watch","methods","userId","console","Toast","icon","title","component","length","_l","following","key","follower","comment","Restaurant","defualt","favoritedRestaurants","favoritedRestaurant","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","followingsLength","followersLength","favoritedRestaurantsLength","created","computed","beforeRouteUpdate","next","profile","Comments","FavoritedRestaurants","Followers","Followings","CommentsLength"],"mappings":"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","file":"js/chunk-2d0ab43a.5699ff7c.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container py-5\"},[_c('UserProfileCard',{attrs:{\"isCurrentUser\":_vm.currentUser.id === _vm.user.id,\"user\":_vm.user,\"initIsFollowed\":_vm.isFollowed}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingsCard',{attrs:{\"followings\":_vm.followings}}),_c('br'),_c('UserFollowersCard',{attrs:{\"followers\":_vm.followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"comments\":_vm.comments}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"favorited-restaurants\":_vm.favorites}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.image),\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.user.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(\" \"+_vm._s(_vm.user.email)+\" \")]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.commentsLength))]),_vm._v(\" 已評論餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.FavoritedRestaurantsLength))]),_vm._v(\" 收藏的餐廳\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.FollowingsLength))]),_vm._v(\" followings (追蹤者)\")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.user.FollowersLength))]),_vm._v(\" followers (追隨者)\")])]),_c('p',[(_vm.isCurrentUser)?[_c('router-link',{attrs:{\"to\":{name: 'editprofile', params: {id: _vm.user.id}}}},[_c('button',{staticClass:\"btn btn-primary\"},[_vm._v(\" Edit \")])])]:[(_vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.deleteFollowing(_vm.user.id)}}},[_vm._v(\" unFollow \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addFollowing(_vm.user.id)}}},[_vm._v(\" Follow \")])]],2)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img :src=\"user.image | emptyImage\" width=\"300px\" height=\"300px\" />\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{user.name}}</h5>\n          <p class=\"card-text\">\n            {{user.email}}\n          </p>\n          <ul class=\"list-unstyled list-inline\">\n            <li><strong>{{user.commentsLength}}</strong> 已評論餐廳</li>\n            <li><strong>{{user.FavoritedRestaurantsLength}}</strong> 收藏的餐廳</li>\n            <li><strong>{{user.FollowingsLength}}</strong> followings (追蹤者)</li>\n            <li><strong>{{user.FollowersLength}}</strong> followers (追隨者)</li>\n          </ul>\n          <p>\n            <template v-if=\"isCurrentUser\">\n              <router-link :to=\"{name: 'editprofile', params: {id: user.id}}\">\n                <button class=\"btn btn-primary\">\n                  Edit\n                </button>\n              </router-link>\n            </template>\n            <template v-else>\n              <button v-if=\"isFollowed\" @click.prevent.stop=\"deleteFollowing(user.id)\" type=\"button\" class=\"btn btn-danger\">\n                unFollow\n              </button>\n              <button v-else @click.prevent.stop=\"addFollowing(user.id)\" type=\"button\" class=\"btn btn-primary\">\n                Follow\n              </button>\n            </template>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n\nimport { emptyImageFilter } from '../../utils/mixins'\nimport usersAPI from '../../apis/users'\nimport { Toast } from '../../utils/helpers'\n\nexport default {\n  props: {\n    user: {\n      type: Object,\n      required: true\n    },\n    isCurrentUser:{\n      type: Boolean,\n      required: true\n    },\n    initIsFollowed: {\n      type: Boolean,\n      required: true\n    }\n  },\n  mixins: [emptyImageFilter],\n\n  data() {\n    return {\n      isFollowed: this.initIsFollowed\n    }\n  },\n  watch: {\n    initIsFollowed(isFollowed){\n      this.isFollowed = isFollowed\n    }\n  },\n  methods: {\n    async addFollowing(userId) {\n      try{\n        const {data} = await usersAPI.addFollowing({userId})\n        if(data.status !== 'sucess'){\n          throw new Error(data.message)\n        }\n        this.isFollowed = true\n      }\n      catch(err){\n        console.log(err)\n        Toast.fire({\n          icon: 'error',\n          title: '無法追蹤，請稍後再試'\n        })\n      }\n    },\n    async deleteFollowing(userId) {\n      try{\n        const {data} = await usersAPI.deleteFollowing({userId})\n        \n        if(data.status !== 'sucess'){\n          throw new Error(data.message)\n        }\n        this.isFollowed = false\n      }\n      catch(err){\n        console.log(err)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取消追蹤，請稍後再試'\n        })\n      }\n      \n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=a6d9aeca&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('a',{key:following.id,attrs:{\"href\":\"/users/51\"}},[_c('img',{staticClass:\"avatar mr-2\",attrs:{\"src\":following.image,\"width\":\"60\",\"height\":\"60\"}})])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{followings.length}}</strong> followings (追蹤者)\n    </div>\n    <div class=\"card-body\">\n      <a href=\"/users/51\" v-for=\"following in followings\" :key=\"following.id\">\n        <img :src=\"following.image\" width=\"60\" height=\"60\" class=\"avatar mr-2\" />\n      </a>\n    </div>\n    \n  </div>\n</template>\n<script>\n  export default{\n    props: {\n      followings: {\n        type: Array,\n        required: true\n      }\n    },\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=4221cc5b&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追隨者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('a',{key:follower.id,attrs:{\"href\":\"/users/51\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.image,\"width\":\"60\",\"height\":\"60\"}})])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{followers.length}}</strong> followers (追隨者)\n    </div>\n    <div class=\"card-body\">\n      <a href=\"/users/51\" v-for=\"follower in followers\" :key=\"follower.id\">\n        <img :src=\"follower.image\" width=\"60\" height=\"60\" class=\"avatar\" />\n      </a>\n    </div>\n  </div>\n</template>\n<script>\n  export default{\n    props: {\n      followers: {\n        type: Array,\n        required: true\n      }\n    },\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=ecc2dd5a&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{name: 'restaurant',params: {id: comment.Restaurant.id}}}},[_c('img',{staticClass:\"avatar p-1\",attrs:{\"src\":_vm._f(\"emptyImage\")(comment.Restaurant.image),\"width\":\"60\",\"height\":\"60\"}})])}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{comments.length}}</strong> 已評論餐廳\n    </div>\n    <div class=\"card-body\">\n        <router-link :to=\"{name: 'restaurant',params: {id: comment.Restaurant.id}}\" v-for=\"comment in comments\" :key=\"comment.id\">\n          <img :src=\"comment.Restaurant.image | emptyImage\" width=\"60\" height=\"60\" class=\"avatar p-1\" />\n        </router-link>\n    </div>\n  </div>\n</template>\n<script>\nimport { emptyImageFilter } from '../../utils/mixins'\n  export default{\n    props: {\n      comments: {\n        type: Array,\n        defualt: ()=> []\n      }\n    },\n    mixins: [emptyImageFilter]\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=02102f4a&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoritedRestaurants),function(favoritedRestaurant){return _c('a',{key:favoritedRestaurant.id,attrs:{\"href\":\"/restaurants/81\"}},[_c('img',{staticClass:\"avatar mr-2 p-1\",attrs:{\"src\":favoritedRestaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\">\n      <strong>{{favoritedRestaurants.length}}</strong> 收藏的餐廳\n    </div>\n    <div class=\"card-body\">\n      <a href=\"/restaurants/81\" v-for=\"favoritedRestaurant in favoritedRestaurants\" :key=\"favoritedRestaurant.id\">\n        <img :src=\"favoritedRestaurant.image\" width=\"60\" height=\"60\" class=\"avatar mr-2 p-1\" />\n      </a>\n    </div>\n  </div>\n</template>\n<script>\n  export default{\n    props: {\n      favoritedRestaurants: {\n        type: Array,\n        required: true\n      }\n    }\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=336a097d&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container py-5\">\n    <UserProfileCard :isCurrentUser=\"currentUser.id === user.id\" :user=\"user\" :initIsFollowed=\"isFollowed\" />\n    <div class=\"row\">\n      <div class=\"col-md-4\">\n        <UserFollowingsCard :followings=\"followings\" />\n        <br />\n        <UserFollowersCard :followers=\"followers\" />\n      </div>\n      <div class=\"col-md-8\">\n        <UserCommentsCard :comments=\"comments\" />\n        <br />\n        <UserFavoritedRestaurantsCard :favorited-restaurants=\"favorites\" />\n      </div>\n    </div>\n\n  </div>\n</template>\n<script>\nimport UserProfileCard from '../components/User/UserProfileCard.vue';\nimport UserFollowingsCard from '../components/User/UserFollowingsCard.vue';\nimport UserFollowersCard from '../components/User/UserFollowersCard.vue';\nimport UserCommentsCard from '../components/User/UserCommentsCard.vue';\nimport UserFavoritedRestaurantsCard from '../components/User/UserFavoritedRestaurantsCard.vue';\nimport usersAPI from './../apis/users'\nimport { Toast } from './../utils/helpers'\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'User',\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard\n  },\n  data() {\n    return {\n      user: {\n        id: -1,\n        name: '',\n        email: '',\n        image: '',\n        followingsLength: 0,\n        followersLength: 0,\n        commentsLength: 0,\n        favoritedRestaurantsLength: 0,\n      },\n      followings: [],\n      followers: [],\n      comments: [],\n      favorites: [],\n      isFollowed: false\n    }\n  },\n  created() {\n    const {id} = this.$route.params\n    this.fetchUser(id)\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  beforeRouteUpdate (to, from, next) {\n    const { id} = to.params\n    this.fetchUser(id)\n    next()\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const { data } = await usersAPI.get({ userId })\n        console.log(data)\n        const {profile, isFollowed} = data\n        const { id, name, email, image, Comments, FavoritedRestaurants, Followers, Followings } = profile\n        \n        const commentSet = new Set()\n        this.comments = Comments.filter(comment => comment.Restaurant && !commentSet.has(comment.Restaurant.id) && commentSet.add(comment.Restaurant.id))\n\n        this.user = {\n          ...this.user,\n          id,\n          name,\n          email,\n          image,\n          followingsLength: Followings.length,\n          followersLength: Followers.length,\n          commentsLength: Comments.length,\n          CommentsLength: this.comments.length,\n          favoritedRestaurantsLength: FavoritedRestaurants.length,         \n        }\n        this.followings = Followings\n        this.followers = Followers\n        this.favorites = FavoritedRestaurants\n        this.isFollowed = isFollowed\n      }\n      catch (err) {\n        console.log(err)\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得使用者資料，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=54ffbc84&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}